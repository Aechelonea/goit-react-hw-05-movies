"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[653],{5653:function(e,n,r){r.r(n),r.d(n,{default:function(){return x}});var t=r(5861),a=r(9439),i=r(7757),c=r.n(i),s=r(2791),u=r(1087),o=r(7689),l=r(3243),v="Movies_container__sNK5N",f="Movies_searchForm__S-9T7",m="Movies_movieList__3O+kj",h="Movies_movieItem__WBe6u",p="Movies_movieLink__e75lb",d=r(6239),_=r(184),x=function(){var e=(0,s.useState)(""),n=(0,a.Z)(e,2),r=n[0],i=n[1],x=(0,s.useState)([]),j=(0,a.Z)(x,2),N=j[0],g=j[1],k=(0,s.useState)(!1),w=(0,a.Z)(k,2),b=w[0],Z=w[1],y=(0,u.lr)(),L=(0,a.Z)(y,2),S=L[0],M=L[1],C=(0,s.useState)(!1),E=(0,a.Z)(C,2),I=E[0],q=E[1],z=(0,o.s0)();(0,s.useEffect)((function(){var e=S.get("query");e&&(i(e),F(e))}),[S]);var F=function(){var e=(0,t.Z)(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),e.prev=1,q(!0),e.next=5,(0,l.z1)(n);case 5:r=e.sent,g(r.results),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error searching movies:",e.t0);case 12:return e.prev=12,Z(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(n){return e.apply(this,arguments)}}(),O=function(){var e=(0,t.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r){e.next=3;break}return e.abrupt("return");case 3:return M({query:r}),e.next=6,F(r);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(d.Z,{}),(0,_.jsxs)("div",{className:v,children:[(0,_.jsxs)("form",{onSubmit:O,className:f,children:[(0,_.jsx)("input",{type:"text",value:r,onChange:function(e){return i(e.target.value)},placeholder:"Search for movies"}),(0,_.jsx)("button",{type:"submit",children:"Search"})]}),b?(0,_.jsx)("p",{children:"Loading..."}):(0,_.jsx)(_.Fragment,{children:N.length>0?(0,_.jsx)("ul",{className:m,children:N.map((function(e){return(0,_.jsx)("li",{className:h,children:(0,_.jsx)("span",{className:p,onClick:function(){return z("/movies/".concat(e.id))},children:e.title})},e.id)}))}):I&&(0,_.jsx)("p",{children:"No movies found."})})]})]})}},6239:function(e,n,r){r.d(n,{Z:function(){return o}});r(2791);var t=r(1087),a="Navigation_nav__7WdPp",i="Navigation_navList__4liLY",c="Navigation_navItem__u-EYc",s="Navigation_activeLink__M+D4I",u=r(184),o=function(){return(0,u.jsx)("nav",{className:a,children:(0,u.jsxs)("ul",{className:i,children:[(0,u.jsx)("li",{className:c,children:(0,u.jsx)(t.OL,{to:"/",className:function(e){return e.isActive?s:""},children:"Home"})}),(0,u.jsx)("li",{className:c,children:(0,u.jsx)(t.OL,{to:"/movies",className:function(e){return e.isActive?s:""},children:"Movies"})})]})})}},3243:function(e,n,r){r.d(n,{TP:function(){return l},tx:function(){return f},wr:function(){return u},z1:function(){return o},zv:function(){return v}});var t=r(5861),a=r(7757),i=r.n(a),c=r(340);c.Z.defaults.baseURL="https://api.themoviedb.org/3",c.Z.defaults.params={api_key:"f2f7a3d782ac6a235f03b18407d4c171"};var s=function(){var e=(0,t.Z)(i().mark((function e(n){var r,t,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.prev=1,e.next=4,c.Z.get(n,{params:r});case 4:return t=e.sent,e.abrupt("return",t.data);case 8:throw e.prev=8,e.t0=e.catch(1),new Error("Error fetching data");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),u=function(){return s("/trending/movie/day")},o=function(e){return s("/search/movie",{query:encodeURIComponent(e)})},l=function(e){return s("/movie/".concat(e))},v=function(e){return s("/movie/".concat(e,"/credits"))},f=function(e){return s("/movie/".concat(e,"/reviews"))}}}]);
//# sourceMappingURL=653.c55fe6b7.chunk.js.map