"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[653],{5653:function(n,e,t){t.r(e),t.d(e,{default:function(){return x}});var r=t(5861),c=t(9439),a=t(7757),i=t.n(a),o=t(2791),u=t(1087),s=t(7689),f=t(4234),v="Movies_container__sNK5N",l="Movies_searchForm__S-9T7",h="Movies_movieList__3O+kj",m="Movies_movieItem__WBe6u",p="Movies_movieLink__e75lb",d=t(6239),_=t(184),x=function(){var n=(0,o.useState)(""),e=(0,c.Z)(n,2),t=e[0],a=e[1],x=(0,o.useState)([]),k=(0,c.Z)(x,2),j=k[0],N=k[1],w=(0,o.useState)(!1),y=(0,c.Z)(w,2),g=y[0],b=y[1],Z=(0,u.lr)(),L=(0,c.Z)(Z,2),S=L[0],M=L[1],C=(0,o.useState)(!1),E=(0,c.Z)(C,2),I=E[0],P=E[1],q=(0,s.s0)();(0,o.useEffect)((function(){var n=S.get("query");n&&(a(n),z(n))}),[S]);var z=function(){var n=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b(!0),n.prev=1,P(!0),n.next=5,(0,f.z1)(e);case 5:t=n.sent,N(t.results),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.error("Error searching movies:",n.t0);case 12:return n.prev=12,b(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[1,9,12,15]])})));return function(e){return n.apply(this,arguments)}}(),F=function(){var n=(0,r.Z)(i().mark((function n(e){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t){n.next=3;break}return n.abrupt("return");case 3:return M({query:t}),n.next=6,z(t);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(d.Z,{}),(0,_.jsxs)("div",{className:v,children:[(0,_.jsxs)("form",{onSubmit:F,className:l,children:[(0,_.jsx)("input",{type:"text",value:t,onChange:function(n){return a(n.target.value)},placeholder:"Search for movies"}),(0,_.jsx)("button",{type:"submit",children:"Search"})]}),g?(0,_.jsx)("p",{children:"Loading..."}):(0,_.jsx)(_.Fragment,{children:j.length>0?(0,_.jsx)("ul",{className:h,children:j.map((function(n){return(0,_.jsx)("li",{className:m,children:(0,_.jsx)("span",{className:p,onClick:function(){return q("/movies/".concat(n.id))},children:n.title})},n.id)}))}):I&&(0,_.jsx)("p",{children:"No movies found."})})]})]})}},6239:function(n,e,t){t.d(e,{Z:function(){return s}});t(2791);var r=t(1087),c="Navigation_nav__7WdPp",a="Navigation_navList__4liLY",i="Navigation_navItem__u-EYc",o="Navigation_activeLink__M+D4I",u=t(184),s=function(){return(0,u.jsx)("nav",{className:c,children:(0,u.jsxs)("ul",{className:a,children:[(0,u.jsx)("li",{className:i,children:(0,u.jsx)(r.OL,{to:"/",className:function(n){return n.isActive?o:""},children:"Home"})}),(0,u.jsx)("li",{className:i,children:(0,u.jsx)(r.OL,{to:"/movies",className:function(n){return n.isActive?o:""},children:"Movies"})})]})})}},4234:function(n,e,t){t.d(e,{TP:function(){return v},tx:function(){return h},wr:function(){return s},z1:function(){return f},zv:function(){return l}});var r=t(5861),c=t(7757),a=t.n(c),i="f2f7a3d782ac6a235f03b18407d4c171",o="https://api.themoviedb.org/3",u=function(){var n=(0,r.Z)(a().mark((function n(e){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e);case 2:if((t=n.sent).ok){n.next=5;break}throw new Error("Error fetching data");case 5:return n.abrupt("return",t.json());case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),s=function(){return u("".concat(o,"/trending/movie/day?api_key=").concat(i))},f=function(n){return u("".concat(o,"/search/movie?api_key=").concat(i,"&query=").concat(encodeURIComponent(n)))},v=function(n){return u("".concat(o,"/movie/").concat(n,"?api_key=").concat(i))},l=function(n){return u("".concat(o,"/movie/").concat(n,"/credits?api_key=").concat(i))},h=function(n){return u("".concat(o,"/movie/").concat(n,"/reviews?api_key=").concat(i))}},5861:function(n,e,t){function r(n,e,t,r,c,a,i){try{var o=n[a](i),u=o.value}catch(s){return void t(s)}o.done?e(u):Promise.resolve(u).then(r,c)}function c(n){return function(){var e=this,t=arguments;return new Promise((function(c,a){var i=n.apply(e,t);function o(n){r(i,c,a,o,u,"next",n)}function u(n){r(i,c,a,o,u,"throw",n)}o(void 0)}))}}t.d(e,{Z:function(){return c}})}}]);
//# sourceMappingURL=653.90e21254.chunk.js.map